(this["webpackJsonpfrontend-online-store"]=this["webpackJsonpfrontend-online-store"]||[]).push([[0],{27:function(e,t,a){e.exports=a(46)},32:function(e,t,a){},33:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),i=a.n(c),o=(a(32),a(1)),u=a(2),l=a(4),s=a(3),d=a(18),p=a(11),m=a(5),h=a(12),f=a(16),b=(a(33),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleStarClick=n.handleStarClick.bind(Object(h.a)(n)),n.state={clickedStar:[!1,!1,!1,!1,!1]},n}return Object(u.a)(a,[{key:"handleStarClick",value:function(e){for(var t=this.state.clickedStar,a=Object(d.a)(t),n=0;n<=t.length;n+=1)a[n]=n<=e;this.setState({clickedStar:a})}},{key:"render",value:function(){var e=this,t=this.state.clickedStar,a={zero:0,one:1,two:2,three:3,four:4};return r.a.createElement("div",{id:"rating"},r.a.createElement(f.a,{onClick:function(){e.handleStarClick(a.zero)},className:t[0]?"clicked":"",fill:"gray"}),r.a.createElement(f.a,{onClick:function(){e.handleStarClick(a.one)},className:t[1]?"clicked":"",fill:"gray"}),r.a.createElement(f.a,{onClick:function(){e.handleStarClick(a.two)},className:t[2]?"clicked":"",fill:"gray"}),r.a.createElement(f.a,{onClick:function(){e.handleStarClick(a.three)},className:t[3]?"clicked":"",fill:"gray"}),r.a.createElement(f.a,{onClick:function(){e.handleStarClick(a.for)},className:t[4]?"clicked":"",fill:"gray"}),r.a.createElement("p",null,"Nota:"," ",t.reduce((function(e,t){return!0===t&&(e+=1),e}),0)))}}]),a}(r.a.Component)),v=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.location.state,t=e.title,a=e.price,n=e.thumbnail,c=e.attributes,i=this.props,o=i.addToCart,u=i.cartSize,l=this.props.match.params.itemId;return r.a.createElement("div",null,r.a.createElement("h1",{"data-testid":"product-detail-name"},t),r.a.createElement("h2",null," R$ ".concat(a," ")),r.a.createElement("img",{src:n,alt:t}),r.a.createElement("div",null,r.a.createElement("ul",null,c.map((function(e,t){var a=e.value_name,n=e.name;return r.a.createElement("li",{key:t},"".concat(n," : ").concat(a))})))),r.a.createElement("button",{type:"button","data-testid":"product-detail-add-to-cart",onClick:function(){return o({title:t,price:a,thumbnail:n,id:l})}},"Adionar ao carrinho"),r.a.createElement(p.b,{to:"/Cart","data-testid":"shopping-cart-button"},r.a.createElement("button",{type:"button"},"Cart")),r.a.createElement("p",{"data-testid":"shopping-cart-size"},u),r.a.createElement("div",{id:"evaluate-container"},r.a.createElement("input",{type:"email",placeholder:"mail@mail.com"}),r.a.createElement(b,null),r.a.createElement("textarea",{name:"message",id:"input-message",cols:"30",rows:"10","data-testid":"product-detail-evaluation"}),r.a.createElement("button",{id:"button-evaluate",type:"button"},"Avaliar produto")))}}]),a}(r.a.Component),g=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.testId,a=e.children;return r.a.createElement("button",{type:"button","data-testid":t},a)}}]),a}(r.a.Component);g.defaultProps={testId:"test"};var y=g,E=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){var a=n.state.cartProduct.filter((function(e){return e.id===t}))[0].quantProduct;"productIncreaseQuantity"===e.target.name&&(console.log("Incremento",a),n.setState((function(e,a){var n=e.cartProduct.filter((function(e){return e.id===t})),r=a.cartProduct.filter((function(e){return e.id===t}));return n[0].quantProduct=r[0].quantProduct+1,e}))),"productDecreaseQuantity"===e.target.name&&(console.log("Decremento",a),n.setState((function(e,a){var n=e.cartProduct.filter((function(e){return e.id===t})),r=a.cartProduct.filter((function(e){return e.id===t}));return n[0].quantProduct=r[0].quantProduct-1,e})))};var r=n.props.cartProduct;return n.state={cartProduct:r},r.forEach((function(e){e.quantProduct=1})),n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state.cartProduct,a=r.a.createElement("section",null,t.map((function(t,a){var n=t.id,c=t.price,i=t.thumbnail,o=t.title,u=t.quantProduct;return r.a.createElement("div",{key:a},r.a.createElement("h1",{"data-testid":"shopping-cart-product-name"},o),r.a.createElement("img",{src:i,alt:o}),r.a.createElement("p",null,c),r.a.createElement("p",null,"Quantidade:\xa0",r.a.createElement("strong",{"data-testid":"shopping-cart-product-quantity"},u)),r.a.createElement("button",{key:a,type:"button","data-testid":"product-increase-quantity",name:"productIncreaseQuantity",onClick:function(t){return e.handleChange(t,n)}},"Aumentar Quantidade"),r.a.createElement("button",{key:a+1,type:"button","data-testid":"product-decrease-quantity",name:"productDecreaseQuantity",onClick:function(t){return e.handleChange(t,n)}},"Diminuir Quantidade"))}))),n=r.a.createElement("p",{"data-testid":"shopping-cart-empty-message"},"Seu carrinho est\xe1 vazio");return r.a.createElement("div",null,0===t.length?n:a,r.a.createElement(p.b,{to:"/checkout","data-testid":"checkout-products"},r.a.createElement(y,null,"Ir para o carrinho")))}}]),a}(r.a.Component),k=a(9),C=a.n(k),O=a(14);a(40);var j=function(e){var t=e.categories,a=e.onClick;return r.a.createElement("aside",null,r.a.createElement("h1",null,"Categorias:"),r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("button",{className:"category-item",type:"button",key:e.id,"data-testid":"category",onClick:function(){return a(e.id)}},e.name)}))))},S=(a(41),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.imagePath,n=e.price,c=e.itemId,i=e.techSpecs,o=e.addToCart,u=this.props.free_shipping,l={pathname:"/itemDetails/".concat(c),state:i},s={id:c,title:t,thumbnail:a,price:n};return r.a.createElement("div",{"data-testid":"product",className:"product-card"},r.a.createElement("img",{src:a,alt:t}),r.a.createElement("h1",{"data-testid":"addProductToCart"},t),r.a.createElement("p",null,n),u&&r.a.createElement("p",{"data-testid":"free-shipping"},"Frete gr\xe1tis"),r.a.createElement(p.b,{to:l},r.a.createElement("button",{type:"button","data-testid":"product-detail-link"},"Ver detalhes")),r.a.createElement("button",{"data-testid":"product-add-to-cart",type:"button",onClick:function(){return o(s)}},"add cart"))}}]),a}(r.a.Component)),P=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.productsList,a=e.addToCart;return r.a.createElement(r.a.Fragment,null,t.map((function(e){var t=e.title,n=e.price,c=e.thumbnail,i=e.id,o=e.attributes,u=e.shipping;return r.a.createElement(S,{title:t,imagePath:c,price:n,key:i,addToCart:a,itemId:i,techSpecs:{title:t,price:n,thumbnail:c,attributes:o},free_shipping:u.free_shipping})})))}}]),a}(r.a.Component),x=a(15),N=(a(42),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.name,r="checkbox"===a.type?a.checked:a.value;e.setState(Object(x.a)({},n,r))},e.state={itemToSearch:""},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state.itemToSearch,t=this.props.func;return r.a.createElement("header",null,r.a.createElement("label",{htmlFor:"input-search","data-testid":"home-initial-message"},"Digite algum termo de pesquisa ou escolha uma categoria.",r.a.createElement("input",{"data-testid":"query-input",name:"itemToSearch",type:"text",id:"input-search",onChange:this.handleChange,value:e})),r.a.createElement("button",{"data-testid":"query-button",type:"button",onClick:function(){return t(e)}},"Buscar"))}}]),a}(r.a.Component));function I(){return z.apply(this,arguments)}function z(){return(z=Object(O.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){return T.apply(this,arguments)}function T(){return(T=Object(O.a)(C.a.mark((function e(t,a){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,fetch("https://api.mercadolibre.com/sites/MLB/search?q=".concat(a));case 3:n=e.sent;case 4:if(a){e.next=8;break}return e.next=7,fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(t));case 7:n=e.sent;case 8:if(!t||!a){e.next=12;break}return e.next=11,fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(t,"&q=").concat(a));case 11:n=e.sent;case 12:return e.next=14,n.json();case 14:return r=e.sent,e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(43);var q=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).generateArray=function(){var e=Object(O.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(!1,t);case 2:a=e.sent,n.setState({productsList:a.results});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetchCategories=n.fetchCategories.bind(Object(h.a)(n)),n.getProductsFromCategory=n.getProductsFromCategory.bind(Object(h.a)(n)),n.state={categories:[],productsList:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.fetchCategories()}},{key:"getProductsFromCategory",value:function(){var e=Object(O.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:a=e.sent,this.setState({productsList:a.results});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchCategories",value:function(){var e=Object(O.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,this.setState({categories:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.categories,a=e.productsList,n=this.props,c=n.addToCart,i=n.cartSize;return r.a.createElement("main",{id:"home-page"},r.a.createElement(j,{categories:t,onClick:this.getProductsFromCategory}),r.a.createElement("section",null,r.a.createElement(N,{func:this.generateArray}),r.a.createElement(y,null,r.a.createElement(p.b,{"data-testid":"shopping-cart-button",to:"/Cart"},"Cart")),r.a.createElement("p",{"data-testid":"shopping-cart-size"},i),r.a.createElement("div",{id:"project-list"},0===a.length?r.a.createElement("p",null,"Nenhum produto foi encontrado"):r.a.createElement(P,{productsList:a,addToCart:c}))))}}]),a}(r.a.Component),w=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.thumbnail,n=e.price;return r.a.createElement("div",null,r.a.createElement("img",{src:a,alt:t}),r.a.createElement("h2",null,t),r.a.createElement("h2",null,"R$ ".concat(n)))}}]),a}(r.a.Component),F=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var n;Object(o.a)(this,a);var r=(n=t.call(this,e)).props,c=r.cardProducts,i=r.totalPrice;return n.state={cardProducts:c,totalPrice:i},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.cardProducts,a=e.totalPrice,n=r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Revise Seus Produtos"),r.a.createElement("div",null,t.map((function(e){var t=e.title,a=e.price,n=e.thumbnail;return r.a.createElement(w,{key:t,title:t,price:a,thumbnail:n})}))),r.a.createElement("h1",null,"Total R$ ".concat(a))),c=r.a.createElement("h1",null,"Nenhum Item no Carrinho");return r.a.createElement("div",null,0===t.length?c:n)}}]),a}(r.a.Component),M=a(22),H=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.dataId,n=e.maxLength,c=e.className,i=e.name,o=e.value,u=e.placeHolder,l=e.onChange;return r.a.createElement("input",{type:t,"data-testid":a,maxLength:n,className:c,name:i,value:o,placeholder:u,onChange:l})}}]),a}(r.a.Component),D=[{type:"text",dataId:"checkout-fullname",maxLength:50,className:"input",name:"fullName",placeHolder:"Nome Completo"},{type:"email",dataId:"checkout-email",maxLength:30,className:"input",name:"email",placeHolder:"Email"},{type:"text",dataId:"checkout-cpf",maxLength:11,className:"input",name:"cpf",placeHolder:"CPF (Apenas os numeros)"},{type:"text",dataId:"checkout-phone",maxLength:11,className:"input",name:"phone",placeHolder:"Telefone/Celular"},{type:"text",dataId:"checkout-cep",maxLength:8,className:"input",name:"cep",placeHolder:"CEP"},{type:"text",dataId:"checkout-address",maxLength:200,className:"input",name:"adress",placeHolder:"Ender\xe7o"},{type:"text",dataId:"checkout-number",maxLength:10,className:"input",name:"adressNum",placeHolder:"Numero"},{type:"text",dataId:"checkout-comp",maxLength:10,className:"input",name:"comp",placeHolder:"Complemento"}],B=(a(44),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).validateField=function(){var t=e.state.formInfos,a=t.fullName,n=t.email,r=t.cpf,c=t.phone,i=t.cep,o=t.adress,u=t.payMode,l=t.adressNum,s={};0===a.length&&(s.fullName=!0),n.includes("@")||(s.email=!0),11!==r.length&&(s.cpf=!0),11!==c.length&&(s.phone=!0),8!==i.length&&(s.cep=!0),o||(s.adress=!0),u||(s.payMode=!0),l||(s.adressNum=!0),e.setState({error:s})},e.resetState=function(t){var a=e.props,n=a.cleanCart,r=a.endShopping;t.preventDefault(),e.validateField(),e.state.error||(r(),e.setState({formInfos:{},error:{}}),n())},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.state={formInfos:{fullName:"",email:"",cpf:"",phone:"",cep:"",adress:"",adressNum:"",comp:"",payMode:""},error:{}},e}return Object(u.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n="checkbox"===t.type?t.checked:t.value;this.setState((function(e){return{formInfos:Object(M.a)(Object(M.a)({},e.formInfos),{},Object(x.a)({},a,n))}}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.formInfos,n=t.error;return r.a.createElement("div",null,r.a.createElement("h1",null,"Informa\xe7\xf5es do Comprador"),r.a.createElement("form",null,D.map((function(t){var c=t.type,i=t.dataId,o=t.maxLength,u=t.className,l=t.name,s=t.placeHolder;return r.a.createElement(H,{key:l,type:c,dataId:i,maxLength:o,className:n[l]?"notValidated":u,name:l,placeHolder:s,onChange:e.handleChange,value:a.name})})),r.a.createElement("fieldset",null,"M\xe9todo de Pagamento",["Boleto","Visa","Mastercard","Elo"].map((function(t,a){return r.a.createElement("label",{htmlFor:a,key:a},r.a.createElement("input",{type:"radio",value:t,name:"payMode",id:a,onClick:e.handleChange}),t)}))),r.a.createElement("button",{type:"submit",onClick:this.resetState},"Finalizar Compra")))}}]),a}(r.a.Component)),Q=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.cardProducts,a=e.totalPrice;return r.a.createElement("div",null,r.a.createElement(F,{cardProducts:t,totalPrice:a}),r.a.createElement(B,null))}}]),a}(r.a.Component),A=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).addToCart=function(t){var a=e.state.cartProducts,n=e.productExists(t.title);if(n){var r=n.size;r+=1,n.size=r;var c=a.indexOf(n);e.setState((function(e){return e.cartProducts[c]=n,e})),e.updateSize(!1)}else t.size=1,e.setState({cartProducts:[].concat(Object(d.a)(a),[t])}),e.updateSize(!0)},e.resetState=function(){e.state.stillShopping||e.setState({cartProducts:[],totalPrice:0,stillShopping:!0})},e.endShopping=function(){e.setState({stillShopping:!1})},e.state={totalPrice:0,stillShopping:!0,cartProducts:[],cartSize:0},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getStorage()}},{key:"getStorage",value:function(){var e=localStorage.getItem("cart-products"),t=localStorage.getItem("cart-size"),a=JSON.parse(e),n=JSON.parse(t);e&&t&&this.setState({cartProducts:a,cartSize:n})}},{key:"getCurrentSize",value:function(e){return e.reduce((function(e,t){return e+=t.size}),0)}},{key:"updateLocalStorage",value:function(){var e=this.state,t=e.cartProducts,a=e.cartSize;t&&a&&(localStorage.setItem("cart-products",JSON.stringify(t)),localStorage.setItem("cart-size",JSON.stringify(a)))}},{key:"updateSize",value:function(e){var t=this.state.cartProducts,a=this.state.cartSize;if(e)this.setState({cartSize:a+=1});else{var n=this.getCurrentSize(t);this.setState({cartSize:n})}}},{key:"productExists",value:function(e){return this.state.cartProducts.find((function(t){return t.title===e}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.cartProducts,n=t.cartSize,c=t.totalPrice;return this.updateLocalStorage(),r.a.createElement(p.a,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(q,Object.assign({},t,{addToCart:e.addToCart,cartSize:n}))}}),r.a.createElement(m.a,{path:"/checkout",render:function(t){return r.a.createElement(Q,Object.assign({},t,{cardProducts:a,totalPrice:c,cleanCart:e.resetState,endShopping:e.endShopping}))}}),r.a.createElement(m.a,{path:"/itemDetails/:itemId",render:function(t){return r.a.createElement(v,Object.assign({},t,{addToCart:e.addToCart,cartSize:n}))}}),r.a.createElement(m.a,{path:"/Cart",render:function(e){return r.a.createElement(E,Object.assign({},e,{cartProduct:a}))}})))}}]),a}(r.a.Component);A.defaultProps={cartProducts:[]};var J=A,R=(a(45),function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(J,null)}}]),a}(r.a.Component));i.a.render(r.a.createElement(R,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.8fff4fc0.chunk.js.map