(this["webpackJsonpfrontend-online-store"]=this["webpackJsonpfrontend-online-store"]||[]).push([[0],{25:function(e,t,a){e.exports=a.p+"static/media/search-icon.2aaa6f1b.png"},26:function(e,t,a){e.exports=a.p+"static/media/cart-icon.5f8644f0.png"},28:function(e,t,a){e.exports=a(51)},33:function(e,t,a){},34:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),i=a.n(c),o=(a(33),a(1)),s=a(2),u=a(4),l=a(3),m=a(27),d=a(11),p=a(5),h=(a(34),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.location.state,t=e.title,a=e.price,n=e.thumbnail,c=e.attributes,i=this.props.addToCart,o=this.props.match.params.itemId;return r.a.createElement("div",{className:"product-detail-page"},r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{src:n,alt:t,className:"product-image"})),r.a.createElement("div",{className:"infos-container"},r.a.createElement("h1",{"data-testid":"product-detail-name",className:"product-title"},t),r.a.createElement("h2",{className:"product-price"}," R$ ".concat(a," ")),r.a.createElement("div",null,r.a.createElement("ul",{className:"product-info"},c.map((function(e,t){var a=e.value_name,n=e.name;return r.a.createElement("li",{key:t,className:"product-info-item"},"".concat(n," : ").concat(a))})))),r.a.createElement("button",{type:"button","data-testid":"product-detail-add-to-cart",className:"add-to-cart-btn btn",onClick:function(){return i({title:t,price:a,thumbnail:n,id:o})}},"Adicionar ao carrinho"),r.a.createElement(d.b,{to:"/Cart","data-testid":"shopping-cart-button"},r.a.createElement("button",{type:"button",className:"btn show-cart-btn"},"Ver carrinho")),r.a.createElement("div",{id:"evaluate-container",className:"evaluate-container"},r.a.createElement("h3",null,"Avaliar o produto"),r.a.createElement("label",{htmlFor:"product-evaluation-email",className:"evaluate-email"},"Email",r.a.createElement("br",null),r.a.createElement("input",{type:"email",placeholder:"mail@mail.com",className:"product-evaluation-email",id:"product-evaluation-email"})),r.a.createElement("label",{htmlFor:"input-message",className:"evaluate-text"},"Avalia\xe7\xe3o",r.a.createElement("textarea",{name:"message",id:"input-message",cols:"30",rows:"10","data-testid":"product-detail-evaluation",className:"product-evaluation-text"})),r.a.createElement("button",{id:"button-evaluate",type:"button",className:"product-evaluation-btn btn"},"Avaliar produto"))))}}]),a}(r.a.Component)),f=(a(40),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){var a=n.state.cartProduct.filter((function(e){return e.id===t}))[0].quantProduct;"productIncreaseQuantity"===e.target.name&&(console.log("Incremento",a),n.setState((function(e,a){var n=e.cartProduct.filter((function(e){return e.id===t})),r=a.cartProduct.filter((function(e){return e.id===t}));return n[0].quantProduct=r[0].quantProduct+1,e}))),"productDecreaseQuantity"===e.target.name&&(console.log("Decremento",a),n.setState((function(e,a){var n=e.cartProduct.filter((function(e){return e.id===t})),r=a.cartProduct.filter((function(e){return e.id===t}));return n[0].quantProduct=r[0].quantProduct-1,e})))};var r=n.props.cartProduct;return n.state={cartProduct:r},r.forEach((function(e){e.quantProduct=1})),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state.cartProduct,a=r.a.createElement("section",{className:"cart-page"},t.map((function(t,a){var n=t.id,c=t.price,i=t.thumbnail,o=t.title,s=t.quantProduct;return r.a.createElement("div",{key:a,className:"item-container"},r.a.createElement("img",{src:i,alt:o,className:"item-thumbnail"}),r.a.createElement("div",{className:"info-container"},r.a.createElement("h1",{"data-testid":"shopping-cart-product-name",className:"item-name"},o),r.a.createElement("p",{className:"item-price"},"R$".concat(c))),r.a.createElement("div",{className:"quantity-container"},r.a.createElement("button",{key:a,type:"button",className:"increase-item-quantity quantity-btn","data-testid":"product-increase-quantity",name:"productIncreaseQuantity",onClick:function(t){return e.handleChange(t,n)}},"+"),r.a.createElement("strong",{"data-testid":"shopping-cart-product-quantity",className:"item-quantity-number "},s),r.a.createElement("button",{key:a+1,type:"button",className:"decrease-item-quantity quantity-btn","data-testid":"product-decrease-quantity",name:"productDecreaseQuantity",onClick:function(t){return e.handleChange(t,n)}},"-")))}))),n=r.a.createElement("p",{"data-testid":"shopping-cart-empty-message",className:"cart-empty-message"},"Seu carrinho est\xe1 vazio");return r.a.createElement("div",{className:"cart-btn-container"},t.length>0&&r.a.createElement("h1",{className:"cart-title"},"Itens no carrinho"),0===t.length?n:a,r.a.createElement(d.b,{to:"/checkout","data-testid":"checkout-products",className:"cart-btn-link"},r.a.createElement("button",{type:"button",className:"cart-btn"},"Finalizar compra")))}}]),a}(r.a.Component)),b=a(9),v=a.n(b),g=a(14),y=a(12);a(42);var E=function(e){var t=e.categories,a=e.onClick;return r.a.createElement("aside",{className:"category-bar"},r.a.createElement("h1",{className:"category-bar-title"},"Categorias:"),r.a.createElement("ul",{className:"category-bar-list"},t.map((function(e){return r.a.createElement("button",{className:"category-bar-item",type:"button",key:e.id,"data-testid":"category",onClick:function(){return a(e.id)}},e.name)}))))},N=(a(43),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.imagePath,n=e.price,c=e.itemId,i=e.techSpecs,o=e.addToCart,s={pathname:"/itemDetails/".concat(c),state:i},u={id:c,title:t,thumbnail:a,price:n};return r.a.createElement("div",{"data-testid":"product",className:"product-card"},r.a.createElement("img",{src:a,alt:t}),r.a.createElement("div",{className:"product-info"},r.a.createElement("h1",{"data-testid":"addProductToCart"},t.length>30?"".concat(String(t).substring(0,30),"..."):String(t)),r.a.createElement("p",{className:"price"},"R$".concat(n)),r.a.createElement("div",null,r.a.createElement(d.b,{to:s},r.a.createElement("button",{type:"button","data-testid":"product-detail-link"},"Ver detalhes")),r.a.createElement("button",{"data-testid":"product-add-to-cart",type:"button",onClick:function(){return o(u)}},"Adicionar"))))}}]),a}(r.a.Component)),O=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.productsList,a=e.addToCart;return r.a.createElement(r.a.Fragment,null,t.map((function(e){var t=e.title,n=e.price,c=e.thumbnail,i=e.id,o=e.attributes,s=e.shipping;return r.a.createElement(N,{title:t,imagePath:c,price:n,key:i,addToCart:a,itemId:i,techSpecs:{title:t,price:n,thumbnail:c,attributes:o},free_shipping:s.free_shipping})})))}}]),a}(r.a.Component),C=a(15),j=(a(44),a(25)),k=a.n(j),S=a(26),P=a.n(S),x=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.name,r="checkbox"===a.type?a.checked:a.value;e.setState(Object(C.a)({},n,r))},e.state={itemToSearch:""},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.itemToSearch,t=this.props,a=t.func,n=t.cartSize;return r.a.createElement("header",{className:"search-bar"},r.a.createElement("div",{className:"search-bar-container"},r.a.createElement("input",{"data-testid":"query-input",name:"itemToSearch",type:"text",id:"input-search",onChange:this.handleChange,value:e,className:"search-bar-input"}),r.a.createElement("button",{"data-testid":"query-button",type:"button",onClick:function(){return a(e)},className:"search-bar-button"},r.a.createElement("img",{src:k.a,alt:"Icone de pesquisa"}))),r.a.createElement("div",{className:"cart"},r.a.createElement("button",{type:"button",className:"cart-button"},r.a.createElement(d.b,{"data-testid":"shopping-cart-button",to:"/Cart"},r.a.createElement("img",{src:P.a,alt:"Icone do carrinho",className:"cart-icon"}))),r.a.createElement("p",{"data-testid":"shopping-cart-size",className:"cart-size"},n," ",1===n?"Item":"Itens")))}}]),a}(r.a.Component);function I(){return z.apply(this,arguments)}function z(){return(z=Object(g.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){return q.apply(this,arguments)}function q(){return(q=Object(g.a)(v.a.mark((function e(t,a){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,fetch("https://api.mercadolibre.com/sites/MLB/search?q=".concat(a));case 3:n=e.sent;case 4:if(a){e.next=8;break}return e.next=7,fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(t));case 7:n=e.sent;case 8:if(!t||!a){e.next=12;break}return e.next=11,fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(t,"&q=").concat(a));case 11:n=e.sent;case 12:return e.next=14,n.json();case 14:return r=e.sent,e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(45);var T=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).generateArray=function(){var e=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(!1,t);case 2:a=e.sent,n.setState({productsList:a.results});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetchCategories=n.fetchCategories.bind(Object(y.a)(n)),n.getProductsFromCategory=n.getProductsFromCategory.bind(Object(y.a)(n)),n.state={categories:[],productsList:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.fetchCategories()}},{key:"getProductsFromCategory",value:function(){var e=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:a=e.sent,this.setState({productsList:a.results});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchCategories",value:function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,this.setState({categories:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.categories,a=e.productsList,n=this.props,c=n.addToCart,i=n.cartSize;return r.a.createElement("main",{className:"home-page"},r.a.createElement(E,{categories:t,onClick:this.getProductsFromCategory}),r.a.createElement("section",{className:"products-section"},r.a.createElement(x,{func:this.generateArray,cartSize:i}),r.a.createElement("div",{className:"project-list"},0===a.length?r.a.createElement("p",null,"Nenhum produto foi encontrado"):r.a.createElement(O,{productsList:a,addToCart:c}))))}}]),a}(r.a.Component),w=(a(46),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.thumbnail,n=e.price;return r.a.createElement("div",{className:"item-container"},r.a.createElement("img",{src:a,alt:t,className:"item-thumb"}),r.a.createElement("div",{className:"info-container"},r.a.createElement("h2",{className:"item-title"},t),r.a.createElement("h2",{className:"item-price"},"R$ ".concat(n))))}}]),a}(r.a.Component)),F=(a(47),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;Object(o.a)(this,a);var r=(n=t.call(this,e)).props,c=r.cardProducts,i=r.totalPrice;return n.state={cardProducts:c,totalPrice:i},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.cardProducts,a=e.totalPrice,n=r.a.createElement("div",{className:"cart-resume"},r.a.createElement("h1",null,"Revise Seus Produtos"),r.a.createElement("div",null,t.map((function(e){var t=e.title,a=e.price,n=e.thumbnail;return r.a.createElement(w,{key:t,title:t,price:a,thumbnail:n})}))),r.a.createElement("h1",null,"Total R$ ".concat(a))),c=r.a.createElement("h1",{className:"empty-title"},"Nenhum Item no Carrinho");return r.a.createElement("div",null,0===t.length?c:n)}}]),a}(r.a.Component)),M=a(20),H=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.dataId,n=e.maxLength,c=e.className,i=e.name,o=e.value,s=e.placeHolder,u=e.onChange;return r.a.createElement("input",{type:t,"data-testid":a,maxLength:n,className:c,name:i,value:o,placeholder:s,onChange:u})}}]),a}(r.a.Component),A=[{type:"text",dataId:"checkout-fullname",maxLength:50,className:"input",name:"fullName",placeHolder:"Nome Completo"},{type:"email",dataId:"checkout-email",maxLength:30,className:"input",name:"email",placeHolder:"Email"},{type:"text",dataId:"checkout-cpf",maxLength:11,className:"input",name:"cpf",placeHolder:"CPF (Apenas os numeros)"},{type:"text",dataId:"checkout-phone",maxLength:11,className:"input",name:"phone",placeHolder:"Telefone/Celular"},{type:"text",dataId:"checkout-cep",maxLength:8,className:"input",name:"cep",placeHolder:"CEP"},{type:"text",dataId:"checkout-address",maxLength:200,className:"input",name:"adress",placeHolder:"Ender\xe7o"},{type:"text",dataId:"checkout-number",maxLength:10,className:"input",name:"adressNum",placeHolder:"Numero"},{type:"text",dataId:"checkout-comp",maxLength:10,className:"input",name:"comp",placeHolder:"Complemento"}],D=(a(48),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).validateField=function(){var t=e.state.formInfos,a=t.fullName,n=t.email,r=t.cpf,c=t.phone,i=t.cep,o=t.adress,s=t.payMode,u=t.adressNum,l={};0===a.length&&(l.fullName=!0),n.includes("@")||(l.email=!0),11!==r.length&&(l.cpf=!0),11!==c.length&&(l.phone=!0),8!==i.length&&(l.cep=!0),o||(l.adress=!0),s||(l.payMode=!0),u||(l.adressNum=!0),e.setState({error:l})},e.resetState=function(t){var a=e.props,n=a.cleanCart,r=a.endShopping;t.preventDefault(),e.validateField(),e.state.error||(r(),e.setState({formInfos:{},error:{}}),n())},e.handleChange=e.handleChange.bind(Object(y.a)(e)),e.state={formInfos:{fullName:"",email:"",cpf:"",phone:"",cep:"",adress:"",adressNum:"",comp:"",payMode:""},error:{}},e}return Object(s.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n="checkbox"===t.type?t.checked:t.value;this.setState((function(e){return{formInfos:Object(M.a)(Object(M.a)({},e.formInfos),{},Object(C.a)({},a,n))}}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.formInfos,n=t.error;return r.a.createElement("div",{className:"purchase-container"},r.a.createElement("h1",{className:"purchase-title"},"Informa\xe7\xf5es do Comprador"),r.a.createElement("form",{className:"purchase-form"},A.map((function(t){var c=t.type,i=t.dataId,o=t.maxLength,s=t.className,u=t.name,l=t.placeHolder;return r.a.createElement(H,{key:u,type:c,dataId:i,maxLength:o,className:n[u]?"notValidated":s,name:u,placeHolder:l,onChange:e.handleChange,value:a.name})})),r.a.createElement("fieldset",{className:"purchase-method"},"M\xe9todo de Pagamento:",["Boleto","Visa","Mastercard","Elo"].map((function(t,a){return r.a.createElement("label",{htmlFor:a,key:a,className:"method-label"},r.a.createElement("input",{type:"radio",value:t,name:"payMode",id:a,onClick:e.handleChange}),r.a.createElement("span",{className:"method"},t))}))),r.a.createElement("button",{type:"submit",onClick:this.resetState,className:"btn"},"Finalizar Compra")))}}]),a}(r.a.Component)),B=(a(49),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.cardProducts,a=e.totalPrice;return r.a.createElement("div",{className:"checkout-page"},r.a.createElement(F,{cardProducts:t,totalPrice:a}),r.a.createElement(D,null))}}]),a}(r.a.Component)),J=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).addToCart=function(t){var a=e.state.cartProducts,n=e.productExists(t.title);if(n){var r=n.size;r+=1,n.size=r;var c=a.indexOf(n);e.setState((function(e){return e.cartProducts[c]=n,e})),e.updateSize(!1)}else t.size=1,e.setState({cartProducts:[].concat(Object(m.a)(a),[t])}),e.updateSize(!0)},e.resetState=function(){e.state.stillShopping||e.setState({cartProducts:[],totalPrice:0,stillShopping:!0})},e.endShopping=function(){e.setState({stillShopping:!1})},e.state={totalPrice:0,stillShopping:!0,cartProducts:[],cartSize:0},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getStorage()}},{key:"getStorage",value:function(){var e=localStorage.getItem("cart-products"),t=localStorage.getItem("cart-size"),a=JSON.parse(e),n=JSON.parse(t);e&&t&&this.setState({cartProducts:a,cartSize:n})}},{key:"getCurrentSize",value:function(e){return e.reduce((function(e,t){return e+=t.size}),0)}},{key:"updateLocalStorage",value:function(){var e=this.state,t=e.cartProducts,a=e.cartSize;t&&a&&(localStorage.setItem("cart-products",JSON.stringify(t)),localStorage.setItem("cart-size",JSON.stringify(a)))}},{key:"updateSize",value:function(e){var t=this.state.cartProducts,a=this.state.cartSize;if(e)this.setState({cartSize:a+=1});else{var n=this.getCurrentSize(t);this.setState({cartSize:n})}}},{key:"productExists",value:function(e){return this.state.cartProducts.find((function(t){return t.title===e}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.cartProducts,n=t.cartSize,c=t.totalPrice;return this.updateLocalStorage(),r.a.createElement(d.a,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(T,Object.assign({},t,{addToCart:e.addToCart,cartSize:n}))}}),r.a.createElement(p.a,{path:"/checkout",render:function(t){return r.a.createElement(B,Object.assign({},t,{cardProducts:a,totalPrice:c,cleanCart:e.resetState,endShopping:e.endShopping}))}}),r.a.createElement(p.a,{path:"/itemDetails/:itemId",render:function(t){return r.a.createElement(h,Object.assign({},t,{addToCart:e.addToCart,cartSize:n}))}}),r.a.createElement(p.a,{path:"/Cart",render:function(e){return r.a.createElement(f,Object.assign({},e,{cartProduct:a}))}})))}}]),a}(r.a.Component);J.defaultProps={cartProducts:[]};var R=J,$=(a(50),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(R,null)}}]),a}(r.a.Component));i.a.render(r.a.createElement($,null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.2fbff6d9.chunk.js.map